(function(){"use strict";var t={953:function(t,e,n){var o=n(963),i=n(252);function r(t,e,n,o,r,s){const a=(0,i.up)("AngleApp"),l=(0,i.up)("GPSApp");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(a),(0,i.Wm)(l)],64)}var s=n(577);const a=t=>((0,i.dD)("data-v-cb722420"),t=t(),(0,i.Cn)(),t),l={id:"app"},d=a((()=>(0,i._)("h1",null,"Device Orientation",-1))),u={key:1},c=a((()=>(0,i._)("label",{for:"angleLimit"},"Angle limit:",-1)));function h(t,e,n,r,a,h){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",null,[d,a.hasPermission?((0,i.wg)(),(0,i.iD)("div",u,[(0,i._)("p",null,"Angle: "+(0,s.zw)(h.formatNumber(a.angle)),1),c,(0,i.wy)((0,i._)("input",{id:"angleLimit",type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>a.thresholdAngle=t),min:"0",max:"50",step:"1"},null,512),[[o.nr,a.thresholdAngle,void 0,{number:!0}]]),(0,i._)("button",{onClick:e[2]||(e[2]=(...t)=>h.toggleSound&&h.toggleSound(...t))},(0,s.zw)(a.soundEnabled?"Disable Sound":"Enable Sound"),1)])):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e[0]||(e[0]=(...t)=>h.getOrientationPermission&&h.getOrientationPermission(...t))},"Enable Device Orientation"))])])}var p={name:"AngleApp",data(){return{angle:null,audioContext:null,oscillator:null,soundEnabled:!1,thresholdAngle:20,hasPermission:!1}},created(){window.addEventListener("deviceorientation",this.updateOrientation),this.soundEnabled&&this.startSound()},beforeUnmount(){window.removeEventListener("deviceorientation",this.updateOrientation),this.oscillator&&this.oscillator.stop(),this.audioContext&&this.audioContext.close()},methods:{getOrientationPermission(){"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{"granted"===t&&(this.hasPermission=!0)})).catch(console.error):this.hasPermission=!0},updateOrientation(t){this.angle=t.beta,document.body.style.backgroundColor=this.toColor(this.angle),this.oscillator&&(this.soundEnabled?(this.oscillator.frequency.value=this.toFreq(this.angle),this.angle>this.thresholdAngle?document.body.classList.add("blink"):document.body.classList.remove("blink")):this.oscillator.frequency.value=0)},formatNumber(t){return null!==t?t.toFixed(1):"N/A"},toColor(t){let e=this.thresholdAngle+10,n="red";return t>=this.thresholdAngle-5&&t<this.thresholdAngle?n="yellow":t>=this.thresholdAngle&&t<e&&(n="green"),n},toFreq(t){let e=0;const n=this.thresholdAngle+10;return t>this.thresholdAngle&&t<n?e=440:(e=200+t/this.thresholdAngle*180,(t>n||t<0)&&(e=0)),e},toggleSound(){this.soundEnabled=!this.soundEnabled,!this.soundEnabled&&this.oscillator?(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null):this.soundEnabled&&!this.oscillator&&this.startSound()},startSound(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.oscillator=this.audioContext.createOscillator(),this.oscillator.connect(this.audioContext.destination),this.oscillator.start()}}},g=n(744);const m=(0,g.Z)(p,[["render",h],["__scopeId","data-v-cb722420"]]);var f=m;const b=(0,i._)("h1",null,"GPS Information",-1),v=(0,i._)("label",{for:"speedLimit"},"Min Speed:",-1);function w(t,e,n,r,a,l){return(0,i.wg)(),(0,i.iD)("div",{style:(0,s.j5)({backgroundColor:a.speed>a.speedLimit?"green":"red"})},[b,(0,i._)("p",null,"Latitude: "+(0,s.zw)(a.latitude),1),(0,i._)("p",null,"Longitude: "+(0,s.zw)(a.longitude),1),(0,i._)("p",null,"Speed: "+(0,s.zw)(a.speed)+" m/s",1),v,(0,i.wy)((0,i._)("input",{id:"speedLimit",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>a.speedLimit=t),min:"0",step:"1"},null,512),[[o.nr,a.speedLimit,void 0,{number:!0}]])],4)}var y={name:"GPSApp",data(){return{latitude:null,longitude:null,speed:null,speedLimit:.5}},created(){"geolocation"in navigator?navigator.permissions.query({name:"geolocation"}).then((t=>{"granted"===t.state||"prompt"===t.state?this.watchId=navigator.geolocation.watchPosition(this.updatePosition,this.handleLocationError,{enableHighAccuracy:!0}):"denied"===t.state&&alert("Location permission was denied. Some features may not work."),t.onchange=()=>{"granted"===t.state&&(this.watchId=navigator.geolocation.watchPosition(this.updatePosition,null,{enableHighAccuracy:!0}))}})):alert("Geolocation is not supported by this browser.")},beforeUnmount(){this.watchId&&navigator.geolocation.clearWatch(this.watchId)},methods:{updatePosition(t){this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.speed=t.coords.speed},handleLocationError(t){console.warn(`ERROR(${t.code}): ${t.message}`)}}};const A=(0,g.Z)(y,[["render",w]]);var O=A,P={name:"App",components:{AngleApp:f,GPSApp:O},mounted(){document.title="SurfSiren"}};const E=(0,g.Z)(P,[["render",r]]);var C=E;(0,o.ri)(C).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(u=0;u<t.length;u++){o=t[u][0],i=t[u][1],r=t[u][2];for(var a=!0,l=0;l<o.length;l++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var d=i();void 0!==d&&(e=d)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[o,i,r]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],l=o[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var u=l(n)}for(e&&e(o);d<s.length;d++)r=s[d],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},o=self["webpackChunksurfboard"]=self["webpackChunksurfboard"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(953)}));o=n.O(o)})();
//# sourceMappingURL=app.3d93a712.js.map