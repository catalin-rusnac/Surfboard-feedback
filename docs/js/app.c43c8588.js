(function(){"use strict";var t={90:function(t,e,n){var o=n(963),i=n(252);function r(t,e,n,o,r,s){const l=(0,i.up)("AngleApp"),a=(0,i.up)("GPSApp");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(a)],64)}var s=n(577);const l={key:0},a={key:1,style:{display:"flex","flex-direction":"row","align-items":"center"}};function u(t,e,n,o,r,u){const d=(0,i.up)("CButton"),c=(0,i.up)("CFormInput"),h=(0,i.up)("CFormFloating");return(0,i.wg)(),(0,i.iD)("div",null,[r.hasPermission?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(d,{class:(0,s.C_)(["btn",{"btn-primary":!r.hasPermission,"btn-success":r.hasPermission}]),onClick:u.getOrientationPermission},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(r.hasPermission?"Device Orientation Enabled":"Enable Device Orientation"),1)])),_:1},8,["class","onClick"])])),r.hasPermission?((0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(d,{style:{width:"20%"},class:(0,s.C_)(["btn mt-3",{"btn-success":r.soundEnabled,"btn-danger":!r.soundEnabled}]),onClick:u.toggleSound},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(r.soundEnabled?"Sound ON":"Sound OFF"),1)])),_:1},8,["class","onClick"]),(0,i.Wm)(h,{class:"mt-3",style:{width:"20%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{type:"text",style:{backgroundColor:"transparent",border:"none"},value:u.formatNumber(r.angle),disabled:"",floatingLabel:"Angle"},null,8,["value"])])),_:1}),(0,i.Wm)(h,{class:"mt-3",style:{width:"30%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{style:{backgroundColor:"transparent",border:"none"},"model-value":r.minAngle,"onUpdate:modelValue":e[0]||(e[0]=t=>r.minAngle=t),id:"angleLimit",type:"number",floatingLabel:"Red below"},null,8,["model-value"])])),_:1}),(0,i.Wm)(h,{class:"mt-3",style:{width:"30%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{style:{backgroundColor:"transparent",border:"none"},"model-value":r.minAngleAlertStart,"onUpdate:modelValue":e[1]||(e[1]=t=>r.minAngleAlertStart=t),id:"angleLimitAlertStart",type:"number",floatingLabel:"Yellow below"},null,8,["model-value"])])),_:1})])):(0,i.kq)("",!0)])}var d=n(549),c={components:{CFormInput:d.jO,CFormFloating:d.j3,CButton:d.u5},name:"AngleApp",data(){return{angle:null,minAngle:20,minAngleAlertStart:50,freq:null,audioContext:null,oscillator:null,soundEnabled:!1,hasPermission:!1}},created(){window.addEventListener("deviceorientation",this.updateOrientation),this.soundEnabled&&this.startSound()},beforeUnmount(){window.removeEventListener("deviceorientation",this.updateOrientation),this.oscillator&&this.oscillator.stop(),this.audioContext&&this.audioContext.close()},watch:{freq(t){this.oscillator&&this.soundEnabled&&(this.oscillator.frequency.value=t)}},methods:{getOrientationPermission(){"function"===typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((t=>{"granted"===t&&(this.hasPermission=!0)})).catch(console.error):this.hasPermission=!0},updateOrientation(t){this.angle=t.beta;let e=880,n=200,o=600,i="red";if(this.angle<=this.minAngle)this.freq=e,i="red";else if(this.angle<=this.minAngleAlertStart){let t=this.minAngleAlertStart-this.minAngle,e=(this.minAngleAlertStart-this.angle)/t;if(this.freq=n+(o-n)*e,e>=.9){let t=10*(e-.9);i=`rgb(255, ${255*(1-t)}, 0)`}else i="yellow"}else this.angle>this.minAngleAlertStart&&(this.freq=0,i="green");document.body.style.backgroundColor=i},formatNumber(t){return null!==t?t.toFixed(1):"N/A"},toggleSound(){this.soundEnabled&&this.oscillator?(this.oscillator.stop(),this.oscillator.disconnect(),this.oscillator=null,this.soundEnabled=!1):this.soundEnabled||this.oscillator||!this.hasPermission||(this.startSound(),this.soundEnabled=!0)},startSound(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.oscillator=this.audioContext.createOscillator(),this.oscillator.frequency.value=0,this.oscillator.connect(this.audioContext.destination),this.oscillator.start()}}},h=n(744);const m=(0,h.Z)(c,[["render",u]]);var p=m;const g=(0,i._)("h1",null,"GPS Information",-1),f=(0,i._)("label",{for:"speedLimit"},"Min Speed:",-1);function b(t,e,n,r,l,a){return(0,i.wg)(),(0,i.iD)("div",{style:(0,s.j5)({backgroundColor:l.speed>l.speedLimit?"green":"red"})},[g,(0,i._)("p",null,"Latitude: "+(0,s.zw)(l.latitude),1),(0,i._)("p",null,"Longitude: "+(0,s.zw)(l.longitude),1),(0,i._)("p",null,"Speed: "+(0,s.zw)(l.speed)+" m/s",1),f,(0,i.wy)((0,i._)("input",{id:"speedLimit",type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>l.speedLimit=t),min:"0",step:"1"},null,512),[[o.nr,l.speedLimit,void 0,{number:!0}]])],4)}var v={name:"GPSApp",data(){return{latitude:null,longitude:null,speed:null,speedLimit:.5}},created(){"geolocation"in navigator?navigator.permissions.query({name:"geolocation"}).then((t=>{"granted"===t.state||"prompt"===t.state?this.watchId=navigator.geolocation.watchPosition(this.updatePosition,this.handleLocationError,{enableHighAccuracy:!0}):"denied"===t.state&&alert("Location permission was denied. Some features may not work."),t.onchange=()=>{"granted"===t.state&&(this.watchId=navigator.geolocation.watchPosition(this.updatePosition,null,{enableHighAccuracy:!0}))}})):alert("Geolocation is not supported by this browser.")},beforeUnmount(){this.watchId&&navigator.geolocation.clearWatch(this.watchId)},methods:{updatePosition(t){this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.speed=t.coords.speed},handleLocationError(t){console.warn(`ERROR(${t.code}): ${t.message}`)}}};const w=(0,h.Z)(v,[["render",b]]);var y=w,A={name:"App",components:{AngleApp:p,GPSApp:y},mounted(){document.title="SurfSiren"}};const C=(0,h.Z)(A,[["render",r]]);var O=C;(0,o.ri)(O).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],r=t[d][2];for(var l=!0,a=0;a<o.length;a++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(l=!1,r<s&&(s=r));if(l){t.splice(d--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,i,r]}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,s=o[0],l=o[1],a=o[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(a)var d=a(n)}for(e&&e(o);u<s.length;u++)r=s[u],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},o=self["webpackChunksurfboard"]=self["webpackChunksurfboard"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(90)}));o=n.O(o)})();
//# sourceMappingURL=app.c43c8588.js.map